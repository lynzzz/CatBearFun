
<html>

    <head>
       <link rel="stylesheet" type="text/css" href="../../css/utility.css">     <!-- external css file -->
    </head>
    
    <body>
    <pre><code>

        <img src="../../img/bq4.jpeg" height="800px" width="800px">
        Why left previous company        
        1. 上家公司好，have learned a lot, has grown a lot.        
        2. Interested in this company. make impact and grow.       


        <br></br>
        <br></br>


        <img src="../../img/bq3.jpeg" height="800px" width="800px">
        Why this position?
        1. 职位理解        
        2. 如何胜任        
        3. 如何感兴趣       

        <br></br>
        <br></br>

        <img src="../../img/bq1.png" width="800px" height="800px">
        猪队友
        1. work with him, communicate with him, try to unblock him 
        2. escalate to management
        <br></br>
        <br></br>



        <img src="../../img/bq2.jpeg" height="800px" width="800px">
        1. 说一些不痛不疡的。 
           pay too much attension to detail
           not make the best decision when handling multi-tasking
           <br></br>
           <br></br>


    
        1. 答题思路 (STAR） Situation, task, action, result.


        例子
        https://docs.google.com/document/d/1ema_Wd_Du5AL1nTVLF7WVdFzCIZuOWR7U7B2cnnZvNE/edit


        1. unclear responsibility
        2. 做一件本不该你做的事情： 
           Google doc example 1:
          
        
        
        3. proudest project.
           Google doc example 3:

        4. Disagree with someone最后别人改了.
           Google doc example 4:



        5. Disagree 最后你改了
           

        6. 答应别人但没做的人
        
        9.一个项目在deadline里面没有做完，如何解决的。 你是如何知道做不完的，谁决定的 ： 
           这个题目的三个点是 1. notify manager immediately 2. Bring up the reason why you can't finish on time 3. Trade off(可以做些其他简单的东西）
           Follow up 问题可能是，最后学到了什么?  Plan的时候要think of big picture.
        
           I would notify my manager immediately and tell my manager why I can't finish on time. Normally the reason is we just realized we need to implement an unplaned module/dependency that 
           takes additional time.  I would also ask instead getting this in, can I get a small feature in? And I would recall the design meeting, why we didn't take this dependency into
           consideration, to learn from past help us perform better in the future.
        
        10.一个项目在deadline里做完了。
        
        
        11. Conflict with coworker. 
            [这个例子要稍微加工以下] 
            自己做的项目，对别的组的code有一点dependency, 发邮件问能不能改一下library, 不会邮件，礼貌的问了说是自己有deadline to meet, 没有时间做我的。 解决方法是问他能不能一起去问manager, 
            然后我解释给manager听，说我的deadline要到了，需要他修改一点代码。 老板想了下决定把他的一些活给了另外一个人，让他有时间做这个事情。 最后我在deadline之内完成了这个项目。
            
        
        12. 如果有多项紧急的任务同时给你，你会如何处理？
            Prioritize task by following criteria
            How ergent this task is? 
            How hard it is/How much time it takes? ETA
            Does it need cooperration between mutilpe person/team? dependency
        
        

        Oracle BQ: 
        Project + BQ 如果你花了很多努力做出来了一个东西但是并没有得到很多的认可 你要怎么调节自己的情绪 (30min)
        Project + BQ 遇到过什么困难 怎么解决 学到了什么
        Project + BQ HM


                                     
                                     
                                     
        往模板里面套：
        1.Why do you want to leave MS?                             
          a. 肯定原公司      Microsoft is a great company. I have learned a lot and grown a lot working for Microsoft.
          b. 话风转到现公司： Oracle is also a great company, escpecially OCI, leveraging cutting edge
                            technolog and doing cloud business that I am very interested in. 
                            This is the place where i can grow and make impact.                           
         
          c. 小心陷阱        Follow up? Do you think you cannot have career growth in Microsoft?
                            I can have career growth in MS, but I am more interested in Oracle. 不要说career growth慢,更不要暗示politics. 这可能是red flag.
                            
                                     
                                     
        2. Why are you interested in this position?
          a. 对职位的了解：   This position is with OCI deployment team, that requires distributed system experience.
          b. qualificaiton:  And I have gained those experience from Microsoft Bing Ads and O365. Online service, large scale, high availability, low latency.                           
                             Thoses experience can help me onboard quicly and smoothly.
          c. career goal:  I would like to keep working on distributed system, and this position aligns with my career goal.                           
             

        3. Weakness:
          a. sometimes, I don't make the best decision when handling multi-tasking.                   
    







Bing Ads

Introduction: Bing is a search engine powered by Microsoft. When user searchs a product in Bing, the Ads will appear in the page, 
that's Bing Ads online service. My team owns Ads index server, doing Ads selection and filtering, it selects 10Ads out of 11 billion Ads in 200ms.


Specifically, Index server has 3 layers, the first layer is called index aggregator serivice, It does query understanding and keyword extraction and then fanout
the metadata to the 2nd layer, which is index partitioning service, This service does Ads look up from local store. This service selects 
a few hunderd Ads and then further sends the Ads metadata to 3rd layer, which is listing service, doing ranking and relevance filtering. And eventually, it narrows down to
10Ads and return it back to user. The total latency is 200ms for 99.9% percentile for requests.


Daily work is feature implementation, latency improvement, response payload improvement, and store lookup improvement. 
This is a low latency service.

and I was leading a squad of 3.

Qps: around 30k - 50k per second.
     10k machines WW

Deployment: 
     cluster: we are using is auto-pilot. (There is optimization for Bing online stack)

     method: We have a testing env, where the daily checkin deploys to automatically 2am everyday.
            
            The production deployment happens once a week. WE have 5 DC WW. each DC has two logic DCs.
            We we deploy, we bring one logic datacenter offline, deploy binaries, run tests and then bring it back online.
            then we do the same thing to the other logic DC, that way availability is not affected.
            
     Microservice: yes, deploy independently, there is no dependency on upstream service or downstream service.
                   We can deploy on an as-needed basis.

     oncall: We have 10 people on the team, and each people does one week, it's 24 hours a day


Project I: 
Parallel tracking.
Originally, before this project, the workflow is when user clicks an Ad in Bing, the request goes to a third party tracking website first, doing statistics counting, and then redirects the request to advertiser's website where user can buy stuff. The drawback of this approach is there is 1 second latency from tracking website. 

We leverage the browser technology sendbeacon, which navigates user click to advertiser's url directly and at the same time the browser sends a signal to tracking website asynchronously. That way, we reduced 1 second latency, and therefore results in 30% revenue gain based on market analysis. Google Ads launched this feature in 2018 first and then Bing Ads followed.

Originally, tracking template and advertiser's url are tightly coupled in data structure. With the new approach, We decoupled those two url
in data structure and workflow, we also worked with upstream team to enable the traffic and AB flight. It is a cross team collaboration. 




Project II:
Merchandising rules. 

Situation: When I worked in Bing Ads
Task: I was assigned a task to lead a squad to implement an Ad feature for Microsoft partner Jcpenny.

Action: 
Just some background, The ads recommendation in Jcpenny website is also powered by Bing Ads.
The Merchandising rule feature allows JcPenny to apply domain knowledge to override Bing Ads recommendations, because they know the business better than Microsoft does.
For example, Jcpenny can add a rule saying when user searching Nike shoes, we also return new balance shoes in Ads, since it is very likely people who buy nike shoes also buy new balance shoes. That's domain knowledge 

What we do is we give an UI to advertiser to add rules and in the backend we add a filter on top of Bing ads recommendation to filter ads by the attribute of the product.
This business logic happens at index aggregator service.

Result:
In the end, JCpenny likes this feature and we are onboarding JCpenny to our platform. This feature also paves a way for applying Bing ads stack to retailer’s website.




Office 365.

      Introduction: Office365 exchange frontdoor
      what the service does is it extracts a token from http header and figures out which backend it goes to and then proxy the http request to the corresponding backend. 
      it is serving 1.4T requests per day, 12m requests per second, very large scale.

      Scale: Serving 1.4 trillion requests per day, it is about 12million requests per second. 
             Machines: We have 20k machines world wide.(Physical mahine)
      
      Deployment: 
             Cluster: we are using exchange cluster and we are moving to Azure VM
             Method: we deplpoy by ring(canary deployment). each ring is a subset of production machines.  Service dog food(SDF, B31, B32,) -> Microsoft ->  WW 
             frequency: once a week.
             Microservice: No, the whole exchange team have to deploy together, There are dependencies.


      oncall: We have 12 people on theam team, each person does one week, 6am - 6pm. 12 hours a day, China team does another 12 hours.
              

Project I:
The current webserver we are using is iis on windows. It is a generic webserver, in addition to servering as a 
http listerner, it's also running Asp.net stack and garbage collection, which is overhead to our service, since our service doesn't do page redering  
We are creating a mini webserver to get rid of Asp.net to scale the service up. The mini webserver consists of a few components
1.  Http listener and http client componnets, talking to http.sys, which is a kernel mode driver that brings the request up to user mode.
2.  Async windows RPC talking to other service, 
3.  service monitoring features(alert, autoreovery)


    
    </code></pre>
    </body>
    




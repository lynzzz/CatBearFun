<html>

<head>
   <link rel="stylesheet" type="text/css" href="../../css/utility.css">     <!-- external css file -->
</head>


<body>




<pre><code>

class Solution {
    public int calculate(String s) {
        if ( s == null || s.length() == 0) return 0;

        int sum = 0;
        int sign = 1;

        Stack<Integer> myStack = new Stack<>();
        for( int i=0; i&lt;s.length(); i++){

            char c = s.charAt(i);

            if ( Character.isDigit(c)){
                int start = i;
                while( i&lt;s.length() && Character.isDigit(s.charAt(i))){
                    i++;
                }

                int number = Integer.valueOf(s.substring(start, i));
                sum =  sum + sign * number;
                i--;
            }else if ( c == ' '){
                continue;
            }else if ( c == '+'){
                sign = 1;
            }else if ( c == '-'){
                sign = -1;
            }else if ( c == '('){
                myStack.push(sum);
                myStack.push(sign);
                sum = 0;
                sign = 1;
            }else if ( c == ')'){
                int preSign = myStack.pop();
                int preRet = myStack.pop();
                sum = preRet + preSign * sum;
            }
        }

        return sum;
    }
}

</code></pre>






<div class="comment">
数据结构 ：用 Stack存叠加结果和符号<br>
算法 ： 维持一个 sum and sign <br>

遇到数字就更新sum,、遇到符号就更新sign，遇到 (, 就把当前的sum, sign 存入 stack, 然后重新初始化 sum, sign继续往前走， 遇到‘)’就把之前的值弹出来，和当前值相加<br>



</div>




</body>

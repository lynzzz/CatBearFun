<html>

<head>
   <link rel="stylesheet" type="text/css" href="../../css/utility.css">     <!-- external css file -->
</head>


<body>




<pre><code>

    class Solution {
        public int calculate(String s) {
            Stack&lt;Integer> sumStack = new Stack&lt;>();
            Stack&lt;Character> charStack = new Stack&lt;>();
            
            char curSign = '+';
            
            for( int i=0; i&lt;s.length();i++ ){
                if (s.charAt(i) == ' ') continue;
                else if (s.charAt(i) == '+') curSign = '+';
                else if (s.charAt(i) == '-') curSign = '-';
                else if (s.charAt(i) == '('){
                    charStack.push(curSign);
                    curSign = '+';
                    
                    sumStack.push(Integer.MAX_VALUE);
                }else if(s.charAt(i) == ')'){
                    int sum = 0;
                    while(sumStack.peek()!= Integer.MAX_VALUE){
                        sum = sum + sumStack.pop();
                    }
                    sumStack.pop();
                    char sign = charStack.pop();
                    sumStack.push(sign == '+' ? sum : -sum);
                }
                else if ( Character.isDigit(s.charAt(i)) ){
                    int start = i;
                    while(i&lt;s.length() && Character.isDigit(s.charAt(i))){
                        i++;
                    }
                    String number = s.substring(start, i);
                    int cur = Integer.valueOf(number);
                    i--;
                    if ( curSign == '+') sumStack.push(cur);
                    else if( curSign == '-') sumStack.push(-cur);
                    else if ( curSign == '*') sumStack.push(sumStack.pop()*cur);
                    else if ( curSign == '/') sumStack.push(sumStack.pop()/cur);
                }
            }
            
            int sum = 0;
            while( !sumStack.empty()){
                sum = sum + sumStack.pop();
            }
            
            return sum;
        }
    }

</code></pre>











</div>
</body>

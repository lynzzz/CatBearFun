<html>

<head>
   <link rel="stylesheet" type="text/css" href="../../css/utility.css">     <!-- external css file -->
</head>

<body>
<pre><code>
  class Solution {
      public List&lt;TreeNode> allPossibleFBT(int N) {

          if ( N == 1){
              List&lt;TreeNode> ret = new ArrayList<>();
              ret.add(new TreeNode(0));
              return ret;
          }


          List&lt;TreeNode> ret = new ArrayList<>();
          N=N-1;

          for( int i=1; i&lt;N; i=i+2){
              List&lt;TreeNode> left = allPossibleFBT(i);
              List&lt;TreeNode> right = allPossibleFBT(N-i);

              for(TreeNode l: left){
                  for(TreeNode r: right){
                      TreeNode root = new TreeNode(0);
                      root.left = l;
                      root.right = r;
                      ret.add(root);
                  }
              }
          }

          return ret;
      }
  }


Solution II: memtable
class Solution {
    Map&lt;Integer, List&lt;TreeNode>> mem = new HashMap<>();

    public List&lt;TreeNode> allPossibleFBT(int N) {

        if ( N%2 == 0){
            return new ArrayList<>();
        }

        if ( mem.containsKey(mem)){
            return mem.get(N);
        }

        if ( N == 1){
            List&lt;TreeNode> ret = new ArrayList<>();
            ret.add(new TreeNode(0));
            return ret;
        }




        List&lt;TreeNode> ret = new ArrayList<>();
        N=N-1;

        for( int i=1; i&lt;N; i=i+2){
            List&lt;TreeNode> left = allPossibleFBT(i);
            List&lt;TreeNode> right = allPossibleFBT(N-i);

            for(TreeNode l: left){
                for(TreeNode r: right){
                    TreeNode root = new TreeNode(0);
                    root.left = l;
                    root.right = r;
                    ret.add(root);
                }
            }
        }

        mem.put(N, ret);
        return ret;
    }
}

</code></pre>
</body>

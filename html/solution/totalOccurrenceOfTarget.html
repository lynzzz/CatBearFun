<html>

<head>
   <link rel="stylesheet" type="text/css" href="../../css/utility.css">     <!-- external css file -->
</head>


<body>




<pre><code>

public class Solution {
    public int totalOccurrence(int[] A, int target) {
        // Write your code here
        if ( A == null || A.length == 0) return 0;
        if ( A[0] &gt; target || A[A.length - 1] &lt; target) return 0;
        
        
        int start = 0;
        int end = A.length - 1;
        int globalStart = -1;
        int globalEnd = -1;
        
        // Find the first target
        while ( ( start + 1 ) < end){
            
            int mid = start + (end - start )/2;
            if ( A[mid] == target){
                end = mid;
            } else if ( A[mid] > target){
                end = mid;
            }else{
                start = mid;
            }
        }
        
        if ( A[start] == target){
            globalStart = start;
        }else if ( A[end] == target){
            globalStart = end;
        }
        
        // return if no target found
        if ( globalStart == -1){
            return 0;
        }
        
        // Find the last occurence
        start = 0;
        end = A.length - 1;
        
        while ( ( start + 1) < end ){
            int mid = start + (end - start)/2;
            if ( A[mid] == target){
                start = mid;
            }else if ( A[mid] > target){
                end = mid;
            }else{
                start = mid;
            }
        }
        
        if ( A[end] == target){
            globalEnd = end;
        }else if ( A[start] == target){
            globalEnd = start;
        }
        
        return globalEnd - globalStart + 1;
        
    }
}

</code></pre>






<div class="comment">
Time complexity :  O(lgn)    <br>
Space complexity :     <br>




// Note <br>
1.  binary search 模板， Find first target, find last target, 求差     <br>
2.  如果first target没有找到，直接退出         <br>
3.           <br>


</div>




</body>

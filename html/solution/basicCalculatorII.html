<html>

<head>
   <link rel="stylesheet" type="text/css" href="../../css/utility.css">     <!-- external css file -->
</head>


<body>




<pre><code>

此题目的难点是*,/的处理，也是精华所在。解决办法是按照stack模型把前面的值pop出来，*或者/当前的值在压入stack.

  class Solution {
      public int calculate(String s) {

          char sign = '+';
          Stack&lt;Integer> stack = new Stack&lt;>();

          for( int i=0; i&lt;s.length(); i++){
              if ( s.charAt(i) == ' '){
                  continue;
              }else if ( Character.isDigit(s.charAt(i))){
                  int save = i;
                  while( i&lt;s.length() &amp;&amp; Character.isDigit(s.charAt(i))){
                      i++;
                  }
                  int num = Integer.valueOf(s.substring(save, i));
                  i--;

                  if ( sign == '+'){
                      stack.push(num);
                  }else if ( sign == '-'){
                      stack.push(-num);
                  }else if ( sign == '*'){
                      stack.push(stack.pop()*num);
                  }else if ( sign == '/'){
                      stack.push(stack.pop()/num);
                  }
              }else{
                  sign = s.charAt(i);
              }
          }

          int sum = 0;
          while(!stack.isEmpty()){
              sum = sum + stack.pop();
          }

          return sum;
      }
  }


</code></pre>








算法 ：
stack里存带符号的数字

1. 遇到数字就提取出来按照逻辑放进stack里： 前面符号是 +-,就直接压，前面符号是*/,把前面的值弹出来和当前值做*/然后在压栈。
2. 遇到符号就变号（不用做任何运算）



</div>




</body>

<html>

<head>
   <link rel="stylesheet" type="text/css" href="../../css/utility.css">     <!-- external css file -->
</head>


<body>




<pre><code>
  class Solution {
      class MyNode{
          double sum;
          int count;
          double ave;
          MyNode(double sum, int count, double ave){
              this.sum = sum;
              this.count = count;
              this.ave = ave;
          }
      }

      double ans = 0.0;

      public double maximumAverageSubtree(TreeNode root) {
          dfs(root);
          return ans;
      }

      MyNode dfs(TreeNode root){
          if ( root == null ){
              return new MyNode(0, 0, 0);
          }

          MyNode left =  dfs(root.left);
          MyNode right = dfs(root.right);

          MyNode n = new MyNode(left.sum + right.sum + root.val,
                            left.count+right.count+1,
                            (left.sum + right.sum + root.val)/(left.count+right.count+1));

          ans = Math.max(ans, n.ave);

          return n;
      }
  }
</code></pre>




</body>

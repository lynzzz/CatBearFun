<html>
<body>
<pre><code>
// Solution one : permutation 要用三个if去重 

public class Solution {
    /**
     * @param candidates: A list of integers
     * @param target:An integer
     * @return: A list of lists of integers
     */
    public List<List<Integer>> combinationSum2(int[] candidates, int target) {
        // write your code here
        Arrays.sort(candidates);
        
        List<List<Integer>> results = new ArrayList<>();
        List<Integer> result = new ArrayList<>();
        dfs(results, result, candidates, target, new boolean[candidates.length]);
        
        return results;
    }
    
    
    private void dfs( List<List<Integer>> results, List<Integer> result, int[] candidates, int target, boolean[] visited){
        
        int sum = 0;
        for( int n : result){
            sum = sum + n;
        }
        
        if ( sum == target){
            results.add(new ArrayList<Integer>(result));
            return;
        }
        else if ( sum > target){
            return;   
        }
        
        for( int i=0; i<candidates.length; i++){
            
            // [1]
            if ( visited[i]  ){                             
                continue;
            }
            
            // [2]
            if ( i>=1 && candidates[i] == candidates[i-1] && !visited[i-1]){
                continue;
            }
            
            // [3]
            if ( result.size()>=1 && candidates[i] < result.get(result.size()-1) ){
                continue;
            }
            
            result.add(candidates[i]);
            visited[i] = true;
            dfs(results, result, candidates, target, visited);
            visited[i] = false;
            result.remove(result.size()-1);
        }
    }
}


</code></pre>
</body>
</html>
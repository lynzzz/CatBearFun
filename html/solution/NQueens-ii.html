<html>

<head>
   <link rel="stylesheet" type="text/css" href="../../css/utility.css">     <!-- external css file -->
</head>


<body>




<pre><code>
class Solution {
    /**
     * Get all distinct N-Queen solutions
     * @param n: The number of queens
     * @return: All distinct solutions
     * For example, A string '...Q' shows a queen on forth position
     */
    public static int sum = 0; 
     
    public int totalNQueens(int n) {
        // write your code here
        

        // result means column indices for each row
        ArrayList<Integer> result = new ArrayList<>();
        
        dfs(result, n);
        return sum;
        
    }
    
    private void dfs(ArrayList<Integer> result, int n){
        
        if ( result.size() == n){
            sum++;
            return;
        }
        
        
        for( int i=0; i&lt;n; i++ ){
            
            if ( !isValid(result, i) ){
                continue;
            }
            
            result.add(i);
            dfs(result, n);            //放进result的必定是下一行，所以不需要check row
            result.remove(result.size()-1);
        }
    }
    
    
    private boolean isValid(ArrayList<Integer> result, int curCol){
        int curRow = result.size();
        for( int row=0; row&lt;result.size(); row++ ){
            
            // check each column in the exsisting result
            if ( result.get(row) == curCol ){
                return false;
            }
            
            // check 135 degrees diagnal;
            if(  (row - result.get(row)) ==  curRow - curCol ){
                return false;
            }
            
            // check 45 degrees diagnal;
            if ( ( row + result.get(row)  ) == curRow + curCol ){
                return false;
            }
        }
        return true;
    }
};



</code></pre>






<div class="comment">
1. 比Queens更简单，用一个全局变量统计就可以了。
</div>




</body>

<html>

<head>
   <link rel="stylesheet" type="text/css" href="../../css/utility.css">     <!-- external css file -->
</head>

<body>
<pre><code>

    class Solution {
    
        TreeMap<Integer,List<int[]>> map = new TreeMap<>();
        
        public List<List<Integer>> verticalTraversal(TreeNode root) {
            
            preOrder(root, 0, 0);
            
            List<List<Integer>> rets = new ArrayList<>();
            
            for(int key : map.keySet()){
                List<Integer> ret = new ArrayList<>();
                
                List<int[]> l = map.get(key);
                Collections.sort(l, (a, b)->(a[0] != b[0] ? a[0] - b[0] : a[2] - b[2]));
                for(int[] elements : l){
                    ret.add(elements[2]);
                }
                
                rets.add(ret);
            }
            
            return rets;
            
        }
        
        void preOrder(TreeNode root, int x, int y){
            if ( root == null){
                return;
            }
            
            map.putIfAbsent(y, new ArrayList<>());
            map.get(y).add( new int[]{x, y, root.val});
            
            preOrder(root.left, x+1, y-1);
            preOrder(root.right, x+1, y+1);
        }
    }


</code></pre>
</body>
